{{plot}} The movie begins with Barbie and Teresa writing a song together on their guitars when Barbie's sister Stacie storms in, angry at her friend Courtney. Barbie decides to tell Stacie the story of two friends named Liana and Alexa, who also get angry at each other. Although the two girls do not have much, they have each other, a love of music and depend on planting flowers to upkeep their living. They live in a hut beside a beautiful garden. One day, they find a pair of heart-shaped stones in the river near their house, not realizing they are actually trinkets of the mythical Diamond Castle. And they turn them into necklaces to symbolize their friendship. The next day, after sharing the last of their food with an old woman, she gives them a mirror, although none of them are aware that it is the hiding place of Melody, an apprentice muse on the run from Lydia, a previous muse who turned evil and changed the other two muses to stone, but not before they hid their home, the Diamond Castle, and left the key with Melody. As the Diamond Castle is the birthplace of all music, Lydia's finding it would mean the end of music, and with it, eventually the world. Liana and Alexa coax a song out of Melody by singing, and Lydia's minion, a dragon known as Slyder, is able to locate the young muse by her voice. With their home destroyed by Slyder, Alexa and Liana head off with Melody to find the Diamond Castle and keep it safe from Lydia, finding two small puppies on their way. But with no food or money, they eagerly take the place of two musicians at an inn that evening. The musicians, twin boys named Ian and Jeremy, hear the girls play and sing, and instantly fall for them, but the girls leave them behind at the inn. No sooner are they out of the town than Lydia confronts them, using her magic flute to cast a mind spell on them, but the stones on their necklaces  protect them. Unable to use her magic against them, Lydia sics Slyder on them, and he nearly gets them, but the twins from the inn arrive on horseback, and the four of them give Slyder the slip. The girls travel with the twins, who wind up running into a troll that they had managed to trick the last time they met. The troll vows to eat the boys this time unless the girls answer his riddle. They do, which not only frees the boys, but reveals a rainbow bridge that carries the girls off, leaving the boys behind. Liana and Alexa continue to travel, but soon run out of food and water. But not for long, as Liana spots a mansion in the middle of a wood, and when they go in to ask for shelter, the servants there  tell them that they are the long-awaited mistresses of the house. With all the food and clothes they could ever want, Alexa longs to stay, but Liana wants to honor the promise they made to Melody, and the two girls fight. In the end, Liana leaves and Alexa stays, ripping off her necklace in anger at her friend's apparent betrayal. Almost as soon as Liana is gone, Slyder arrives and takes Alexa to Lydia. After determining that Melody is not with Alexa, Lydia uses her flute powers to get Liana's location, and because Alexa is no more wearing the heart-shaped stone, she also falls under Lydia's spell. Thus, Alexa tells Lydia that Liana and Melody are heading to the seven stones . After Liana got kidnapped, Lydia uses a mind-controlled Alexa to threaten Melody into telling her where to find the Diamond Castle. Although Lydia promises to release Liana and Alexa once the Diamond Castle is hers, Slyder knocks the two girls over a cliff, and they very narrowly escape falling into some kind of strong acid. Liana uses Alexa's necklace to undo Lydia's spell, and they manage to climb up the cliff. One of the puppies leads the twins to where the girls are, and together they all head to the hiding place of the Diamond Castle. Meanwhile, Melody kept Lydia busy with a fake story about the key to the castle, and by the time Lydia catches on, the girls and twins have a plan of their own set in place. The twins lure Slyder away and keep him busy while the girls pretend to fall under Lydia's mind-control spell. Lydia creates a whirlpool in a nearby pond and commands the girls to jump in and drown, but Liana pulls away Lydia's flute instead. Lydia counters by threatening to break the mirror Melody is in, but Melody breaks it herself, aware that it would be worse to let the Diamond Castle fall into Lydia's hands and an angry Lydia throws the mirror in the whirlpool. With the help of the dogs Alexa saves Melody and Liana drops Lydia's flute in the whirlpool, and Lydia goes after it, but gets caught in the flow. She tries to cast a spell to make the whirlpool disappear, but her waterlogged flute backfires and she disappears instead. The girls realize that the song Melody sang earlier is the key, and their singing reveals the Diamond Castle. Stepping inside the castle changes everyone's clothes into beautiful and more grand dresses and suits, and releases Melody from the mirror. Melody leads Liana and Alexa to the other muses' instruments, but Lydia, not entirely gone for good, returns on Slyder and attacks. Melody saves the instruments from being turned to stone, and the girls play and sing, creating a barrier that turns Lydia's spells against her, turning both her and Slyder into stone and bringing peace to the Diamond Castle at last. With Lydia gone for good this time, the other muses are returned to life and the castle. They bestow the title of Princesses of Music to Liana and Alexa, promote Melody to a full muse, and give Jeremy and Ian rocking electric guitars. Although Melody would love for Liana and Alexa to stay at the castle forever, the girls just want to go back home, so the muses give them special flower seeds and send them on their way. Back home, Liana and Alexa plant the magical flower seeds and beautiful flowers soon grow. Jeremy and Ian are successful in their performances with their electric guitars. The puppies, named Sparkles  and Lily , follow by the girls' sides. When the story ends, Stacie realizes nothing can break true friendship. She goes to apologize to Courtney. Meanwhile, a song from Barbie and Teresa ends the movie.