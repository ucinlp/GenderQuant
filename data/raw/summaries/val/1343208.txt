{{Plot}} It is the not-too-distant future. The population is divided between those who live "inside", in high-density cities physically separated from "outside", where a poor underclass live. Access to and travel between the cities is highly restricted, and regulated through the use of health cover documents, known as "papelles" in the global pidgin language of the day . Most residents of the cities venture outside at night and remain indoors during the day, as direct sunlight has come to be thought of as hazardous to their health. However, many residents inside and outside the cities still work and venture outdoors during the daytime hours . The form of government appears to be authoritarian in nature and at least somewhat dystopian. Society is regulated by various "codes". The eponymous code of the movie title prohibits "genetically incestuous reproduction", which may occur as a result of the various medical technologies which have become commonplace, such as cloning. The main character is William Geld , an insurance fraud investigator based in Seattle who is sent to Shanghai to interview employees at a company known as "The Sphinx", which manufactures "covers", ostensibly "insurance cover documents" but which are in fact documents regulating the permissible movements of persons between various domains such as cities and between "inside" and "outside". William's assignment is to identify employees who are suspected of forging and smuggling "covers" . After interviewing numerous Sphinx employees, he identifies a young worker named Maria Gonzalez  as the forger and supplier of "covers". He is able to do this by means of a genetically engineered "empathy virus" which allows him to obtain unstated information from people if they voluntarily reveal something about themselves. Maria tells William that she has the same dream each birthday: she is traveling the subway to meet someone she cannot identify. Each birthday she is one station closer to her destination, where she expects to meet the person she is looking for. William is captivated by her, and instead of turning her over to security, identifies another employee as the forger. William then follows Maria and they meet and begin an affair. They have dinner, then go to a nightclub. Putting complete trust in a man who could have had her arrested, Maria reveals how she was able to smuggle papelles out of her workplace. In the club they meet Damian , a naturalist who longs to travel to Delhi to study bats. He has applied for cover for eight consecutive years but has been refused each time. Maria supplies Damian with a papelle. William is upset by this and indicates that he should turn Maria over to the authorities, but Maria somehow knows that William would not do this. William explains that there are legitimate reasons why Damian is unable to obtain the proper clearances legally. However, Maria believes that some risks are worth taking to fulfill one's dreams and that no one has any right to interfere if those she helps are willing to take that risk. William and Maria then leave for her apartment where they spend a passionate night together. While there Maria shows William her "memory scrapbook" , which contains memories of her parents and close friends. Other movies show her passing off papelles to various people. Maria says she thinks these people are beautiful and that their eyes are full of desire and dreams, and that they have a different look from "everyday" people, and she wants to help them. As Maria sleeps, William finds a forged cover in her room and takes it. William's travel cover will expire the next day so he returns home to his family. On the way to the airport, he stops to give the forged cover document to a poor street vendor at the city's perimeter checkpoint, an act of humanity which could change the anonymous vendor's life. A few days later he learns that Damian died in Delhi after exposure to a virus to which he had no immunity, and it is known that Damian was able to travel there using a forged cover made while William was in Shanghai. William is reprimanded by his superior for not discovering the true Sphinx forger. He explains that he had trouble with his empathy virus and requests that someone else be sent, mentioning also that there may have been an accomplice to the innocent man he fingered as the guilty party. However, he is ordered to deal with the problem and to return to Shanghai to complete his assignment. Upon his return William discovers that Maria has gone. Her apartment is abandoned and the only clue to her whereabouts is an appointment scheduled at a medical clinic. He visits the clinic and using his empathic abilities learns that Maria was pregnant, but that the pregnancy was terminated due to a violation of Code 46. William knows that this means Maria is somehow genetically related to him, but he has no idea how this is possible. William discovers that Maria has been taken to another institution to have her memory of the episode erased. He goes there and talks to Maria, but finds her memory of him has been erased. He succeeds in getting the clinic to release Maria into his care by telling them she is a witness in his fraud investigation. After she is released William proves to Maria that she knows him by his intimate knowledge of her and by showing her the memory recording of when she gave Damian the papelle, which includes a shot of William. Williams tells her about the memory erasure, and about how he didn't report her for fraud. Maria is disturbed by this information and becomes very distressed. William gives her a sleeping pill and while she is sleeping, he cuts some hair from her head and takes it to a facility which provides instant DNA analysis. There he discovers that Maria is fifty percent genetically related to him, and that she is a biological clone of his mother, who was one of a set of twenty four in-vitro fertilised clones. This knowledge does not affect William's feelings, but instead of going back to Maria he decides to go home to his family. However when he tries to leave he is not allowed to do so as his 24-hour cover is now expired. William then realizes that his only hope of returning home is to get a papelle from Maria. He returns to her apartment and tells her about his inability to leave and she agrees to help him. She tells him she must acquire a papelle and that she will meet him at the airport later. She goes to work and obtains a papelle, but is unable to forge one herself, as she was moved to another area of work, so a co-worker makes the cover for her. While taking a train to meet William she remembers her birthday dream, and that he was the person she is looking for in the dream, and she remembers her feelings for him. She meets William and gives him the papelle and then tells him she remembers him. He decides not to leave her. William and Maria then travel to Jebel Ali in the Middle East, which does not require special travel clearance. The two hide out in the old city where they book a room. Here William reveals to Maria that as well as the memory wiping she has been given a virus that induces a terrorizing adrenaline rush in response to physical contact with the person who brought about the Code 46 violation. However, Maria still wants to make love with William and so he ties her down to prevent her from fleeing once the adrenaline rush kicks in. Afterward, Maria enters a somnambulistic state also caused by the virus which forces her to report the further Code 46 violation to the authorities. She is unconscious of this, though William is aware of the virus's reaction. They then rent an old car and travel away to escape the authorities who are tracking them. William crashes the car while avoiding a collision with camels and pedestrians and they are both knocked unconscious. When William awakes in the hospital he finds himself in Seattle with his wife and child. He has no memory of Maria or the Code 46 violation, as all memories of her and their time together have been completely flushed from his mind. The authorities had brought William before a tribunal, but decided the empathy virus had affected his judgment. He attempts to use the empathy virus to read his son's thoughts on the drive back from the hospital, but is unable to. Maria is more severely punished, in effect, by having her memories of William loving her not be erased, essentially forced to remember him and exiled to the place she hated the most, the desert, outside of "cover". Her final words of the film  are, "I miss you."