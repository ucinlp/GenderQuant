Muhammad Darwis  is a youth in 19th century Kauman, Yogyakarta, and the son of Kyai Abubakar, the imam of the area's mosque. Displeased with the mixture of Islam and animistic Javanese mysticism, which lead to poor Javanese spending exorbitant amounts of money on religious ceremonies, Darwis decides to go on the hajj to Mecca in Saudi Arabia. While there, he studies what he considers the true form of Islam over a period of five years. Upon his return to Yogyakarta, Darwis  changes his name to Ahmad Dahlan and begins teaching Islam, preaching that prayers need only come from inner peace and do not require large donations or sacrifices. Conflict soon arises between Dahlan and the local kyais  after he shows that the direction in which they pray is wrong, pointing not to the Kaaba in Mecca but to Africa. The kyais, especially Cholil Kamaludiningrat , decry Dahlan as the leader of a cult and provoke a crowd of their followers to destroy the building next to Dahlan's house used for studying prayer. Dahlan continues to preach and teach, opening a school for native people, teaching Islam at a Dutch-run school, and opening a small mosque; he also marries his cousin, Siti Walidah. His actions, such as having his students sit on chairs instead of the traditional mats on the floor, lead to Kamaludiningrat decrying Dahlan as a unbeliever who is working to Westernise the local populace. Despite continued resistance from Kamaludiningrat, Dahlan prevails and furthers his teaching. Together with Walidah, and the students Dirjo , Fahrudin , Hisyam , Sangidu , and Sudja , he founds the progressive Islamic organisation Muhammadiyah, which preaches Islam without any influence from Javanese mysticism.