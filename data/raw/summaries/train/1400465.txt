The Taliban are ruling Afghanistan. Their regime is especially repressive for women, who, among other things, are not allowed to work. This situation becomes difficult for one family consisting solely of three women, representing three successive generations: a young girl, her mother, and her grandmother. With the mother's husband and uncle dead, having been killed in battle during the Soviet invasion and their civil wars, there are no men left to support the family. The mother had been working as a nurse in a hospital, but the Taliban cut off funding to the hospital, leaving it completely dysfunctional with no medicines and very little equipment. One foreign woman working as a nurse in the hospital is arrested by the Taliban. The mother does some nursing outside the hospital and receives payment from the caretaker of a patient, but after the patient dies the mother cannot find any more work. The mother and grandmother then make what they feel is the only decision they can to survive: they will have their preteen daughter disguise herself as a boy so that she can get a job to support the family. Osama’s grandmother tells a story to Osama about a boy who changed to a girl when he went under a rainbow, in order to help persuade her to accept the plan. The daughter, feeling powerless, agrees despite being afraid that the Taliban will kill her if they discover her masquerade. Partly as a symbolic measure, the daughter plants a lock of her now cut hair in a flowerpot. The only people outside the family who know of the ruse are the milk vendor who employs the daughter - he who was a friend of her deceased father - and a local boy named Espandi, who recognizes her despite her outward change in appearance. Espandi is the one who renames her Osama. The masquerade becomes more difficult when the Taliban recruit all the local boys for school, which includes military training. At the training school, they are taught how to fight and conduct ablutions, and an ablution is taught to boys that should be done when they experience nocturnal emission or come in contact with their wife when they grow older. Osama attempts to avoid joining the ablution session, and the master grows suspicious of Osama’s gender. Osama realizes it can only be so long before she is found out. Several of the boys begin to pick on her, and although Espandi is at first able to protect her, her secret is eventually discovered when she menstruates. Osama is arrested and put on trial, along with a Western journalist who and the foreign woman who was arrested in the hospital. The journalist and the nurse are both condemned and put to death, but, as Osama is destitute and helpless, her life is spared; she is instead given in marriage to a much older man. Osama's new husband already has three wives, all of whom hate him and say he has destroyed their lives. They take pity on Osama, but are powerless to help her. The husband shows Osama the padlocks he uses on his wives' rooms, reserving the largest for Osama. The film ends with the new husband conducting an ablution in an outdoor bath, which the boys were earlier taught to conduct after coming in contact with their wives.