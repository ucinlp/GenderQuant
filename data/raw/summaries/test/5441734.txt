Larry McCoy , Bill Little , and Everett Shackleford  are members of the Army National Guard. Larry loses his job and his girlfriend Karen reveals that she is pregnant with someone else’s baby. Bill is having a hard time with wife Connie and Everett lives in a storage locker as a security guard after getting fired from being a police officer. Bill shows Larry how to get over his grief of Karen by shooting the gifts that he got Karen. Meanwhile, an Army Colonel gets a request for more troops for Fallujah and sends Master Sergeant Kilgore  to assess the situation at the local reserve base where he finds Bill, Larry, and Everett. He puts them through a training regimen and sends them to Fallujah. They fall asleep in a Humvee aboard the cargo plane and, with Kilgore snagged onto the medical supplies, fall out when the plane experiences turbulence. After they wake up the next morning, they believe they are in Iraq. Everett breaks the radio and they find Kilgore lying next to one of the supply crates, concluding he had died. After running out of water, Everett starts to urinate in a canteen and leaves it on a crate. They solemnly bury him and give a brief eulogy with Everett also praying about Powerball. After gearing up, Larry holds a machine gun and says, "All right ladies...Let’s Git R Done." Little do they know, they've actually landed in Central Mexico. After some driving and looking at a map of Iraq, Larry confirms that they were lost. Everett complains about not getting to shoot anyone yet while Bill and Larry tell him the rules of engagement. Everett sees two Mexicans with their mule and views them as a threat. He fires as the two men and their donkey duck to the floor. The three soldiers confront the men and see that Everett killed their mule by mistake. Larry tells them that they're here to liberate their people. The mule regains consciousness and the two Mexicans ask the soldiers to help their village. They accept. Back at the landing sight, Kilgore jumps out of his burial and sees a sign which shows that he is in Mexico. He sees a canteen on a crate . He pours it on his head, drinks it, and realizes that it’s urine. Meanwhile, the soldiers and the two Mexicans look over a rock and Larry sees through the binoculars that "Iraqi Insurgents" abusing the residents of La Miranda. Larry, Bill, and Everett devise a plan and Bill isn't sure. Larry looks back and sees one of the Insurgents holding the Mayor’s daughter by the arm, presumably to be taken away as a slave girl or raped. The three soldiers drive into the village, poorly shooting and manage to drive and scare most of them away while capturing one for questioning. The villagers throw a party to celebrate. Meanwhile, Kilgore is found to be alive. Larry asks the prisoner, Ricardo, if he is Republic Guard or Al Qaeda and where are the weapons of mass destruction, and Everett, in a homemade sniper suit, asks if he's a Turd or a Shi'ite. Ricardo realizes they are confused and laughs at them. When Larry asks what was funny, Ricardo says, "You're not in Iraq, gringo." Larry realizes that gringo is a term used by Mexicans. Larry finds Bill who says jokingly that they may be in Mexico. They realize they are still fighting terrorism in a different form. They learn the name of the leader of the bandits is Carlos Santana . Meanwhile, the soldiers fix up the town, calling the mission "Operation: Sombrero." A bartender informs Bill of a nearby phone while he tries to fix the radio and Bill leaves without telling Larry or Everett. As Bill is being reprimanded for being in Mexico instead of Iraq, Santana takes him hostage. Santana takes Bill back to the town and threatens to kill him, but Larry points out that he can kill Santana despite the number of bandits. Bill is released and Kilgore arrives to yell at Bill and Larry. He doesn't notice Santana and the others until he is held at gunpoint. Everett arrives and a fight begins. The next day, Kilgore agrees to help defend La Miranda. The townspeople hide in the church when the bandits arrive. The bandits arrive with a Sherman tank. Everett attempts to get the rocket launcher in the bunk house, but the tank destroys the bunk house. Larry runs off to the cannon and sets it up. The tank aims at him and at the last second he kicks the cannon and it fires, blowing the tank up. The men of the village decide to join the fight. They scare the enemy away, but Santana stays behind and captures Maria to be his slave. Larry punches Santana and rescues Maria. They then share their first kiss while other U.S. troops arrive and capture the insurgents. Somehow, news reports start inexplicably spreading across the globe about the humanitarian aid given by the army in "Operation: Sombrero" and its efforts to capture local crime lord Carlos Santana. The soldiers receive Silver Stars for their actions as Bill also receiving the Purple Heart for being shot in the behind. Sergeant Kilgore moves to Miami, Florida, where he opens a private exercise camp. Everett moves to Mexico and becomes a luchador named "Carne Asada." Bill sues the Mexican government and moved to Beverly Hills after an out of court settlement. Larry goes back to Mexico, marries Maria, and opens up a restaurant called "Larry's Mess Hall" in Cabo San Lucas. Santana was jailed and put into a rehab program. After being released, he became a ventriloquist to the repaired José.