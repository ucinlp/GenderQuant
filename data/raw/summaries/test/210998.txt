 Neo and Bane's bodies lie unconscious in the medical bay of the ship Mjolnir. Neo's digital self, meanwhile, finds itself trapped in a virtual subway station â€“ a transition zone between the Matrix and the Machine City. In that subway station, he meets a "family" of programs, including a girl named Sati, whose father tells Neo the subway is controlled by the Trainman, an exiled program loyal to the Merovingian. When Neo tries to board a train with the family, the Trainman refuses and overpowers him. Seraph contacts Morpheus and Trinity on behalf of the Oracle, who informs them of Neo's confinement. Seraph, Morpheus and Trinity enter Club Hel, where they confront the Merovingian and force him to release Neo. Troubled by visions of the Machine City, Neo visits the Oracle, who reveals that Smith intends to destroy both the Matrix and the real world. She states that "everything that has a beginning has an end", and that the war will conclude. After Neo leaves, a large group of Smiths assimilates Sati, Seraph and the unresisting Oracle, gaining her powers of precognition. In the real world, the crew of the Nebuchadnezzar and the Mjolnir find and reactivate Niobe's ship, the Logos. They interrogate Bane, who claims to have no memory of the earlier massacre. As the captains plan their defense of Zion, Neo requests a ship to travel to the Machine City. Motivated by her encounter with the Oracle, Niobe offers him the Logos. Neo departs, accompanied by Trinity. Bane, who has stowed away on the Logos, takes Trinity hostage. Neo realizes that Bane has been assimilated by Smith. Bane cauterizes Neo's eyes with a power cable, blinding him; however, Neo discovers an ability to perceive the world as golden light. Neo kills Bane, and Trinity pilots them to the Machine City. Niobe and Morpheus set out for Zion with the Mjolnir to aid the human defenses against the Sentinels. In Zion, the fatally wounded Captain Mifune instructs Kid to open the gate for the Mjolnir. When it arrives, it discharges its EMP, disabling the Sentinels but also the remaining defenses. The humans are forced to retreat and wait for the next attack, which they believe will be their last stand. Neo and Trinity are attacked by machines, causing them to crash the Logos into the Machine City. The crash kills Trinity. Neo enters the Machine City and encounters the "Deus Ex Machina", the machine leader. Neo, warning that Smith plans to conquer both the Matrix and the real world, offers to stop Smith in exchange for peace with Zion. The machine leader agrees, and the Sentinels stop attacking Zion. The Machines provide a connection for Neo to enter the Matrix. Inside, Neo finds that Smith has assimilated all its inhabitants. The Smith with the Oracle's powers steps forth, claiming to have foreseen his victory. After a protracted battle, Neo baits Smith into assimilating him. The machine leader sends a burst of energy into Neo's body in the real world, causing all the Smiths in the Matrix to be destroyed. The Sentinels withdraw from Zion, Neo's body is carried away by the machines, and Morpheus and Niobe embrace. The Matrix reboots, and the Architect encounters the Oracle in a park. They agree that the peace will last "as long as it can", and that all humans will be offered the opportunity to leave the Matrix. The Oracle tells Sati that she thinks they will see Neo again. Seraph asks the Oracle if she knew this would happen, and she replies that she did not know, but she believed.