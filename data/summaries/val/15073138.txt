Charlie Chan arrives in Shanghai at the behest of the U.S. government to help stop an opium smuggling ring. He receives a warning aboard ship not to stop in Shanghai. He is met by his Number One Son, Lee Chan, as well as Philip Nash and his fiance√©, Diana Woodland. Charlie is the guest of honor at a banquet held that evening, hosted by Sir Stanley Woodland . When Sir Stanley opens a box to give a handwritten scroll to Charlie, he is shot and killed by a gun inside the booby-trapped box. Charlie meets with Colonel Watkins, the commissioner of police, and agrees to investigate the crime. The next day, American FBI man James Andrews arrives in Shanghai, accompanied by his valet, Forrest . That night, an assassin shoots what seems to be a sleeping Charlie Chan in bed. But Charlie, suspecting another attempt on his life, rigged a dummy and escaped death. Watkins, Nash, and Woodland try to meet with Andrews. Nash sneaks off and goes through Andrews' briefcase, suitcase, and other papers. Charlie arrives, and while he is speaking with Andrews is nearly shot. Charlie and Andrews managed to retrieve the gun, but the assassin escaped. A fingerprint on the gun reveals that Nash is the likely suspect, and he is arrested. A letter Nash had stolen from Andrews' things seem innocuous, but Charlie takes it as evidence. Charlie returns to his hotel and meets with Lee. They receive a note from Col. Watkins asking them to come to an office downtown. They check with police headquarters, which assures them the note is genuine. Charlie goes, but Lee realizes the note is fake when Col. Watkins calls soon thereafter. Charlie is kidnapped and taken into a room to meet with a mysterious Russian . Lee tries to save his father, but is caught. The two bluff their way out of danger, and after a brief fight manage to escape. That evening, Charlie and Andrews meet with Col. Watkins. Diana Woodland arrives and asks to see Nash; her request is granted. But Diana sneaks Nash a pistol, and the two escape. Later that day, Andrews and Charlie return to the house where Charlie was held. The gang has left, but Charlie finds an ink pad in the fireplace and takes it as evidence. Lee shows up dressed as a beggar, and Charlie sends him home. Oddly, Charlie arrives at the hotel first. Lee shows up later, and reveals that he saw their kidnapper in a taxi on the street and followed him to the Cafe Versailles. Moments later, Andrews calls and summons Charlie to his apartment. Before he leaves, Charlie sends Lee off on a secret mission. Charlie arrives at Andrews' apartment, where the FBI agent has caught a gangster involved with the Marloff gang. After a punch to the jaw, the gangster reveals that the Cafe Versailles is where the opium gang is hiding out. Andrews calls the police, and asks them to meet them at the club. Charlie and Andrews leave for Cafe Versailles. After Charlie and Andrews depart, Andrews' valet, Forrest, frees the gangster and the two leave. At the club, Nash  sees some of the Marloff gang heading toward the basement and follows, but is captured. Charlie and Andrews arrive moments later, and follow a gang member into the basement as well. The basement is where opium is being shipped out via riverboat, reached by a trap door. Andrews urges Charlie to go first, but Charlie hesitates when his flashlight mysteriously refuses to work. The police arrive by boat, and after a brief shootout capture the gang. Charlie surprises everyone by arresting James Andrews. Lee Chan reveals that his father sent him off to cable America, and he has just received a reply which indicates that the real Agent Andrews was murdered in San Francisco three weeks earlier. The false "James Andrews" is really the leader of the Marloff gang, and intended to have the gang murder Charlie in a shoot-out when they descended through the trap door. Charlie knew Andrews did not really call the police, and had Lee summon them instead. Nash's escape from police custody was planned by Charlie. Charlie reveals that Forrest used the ink pad to put Nash's thumbprint on the revolver to frame him. Nash is declared innocent, and Andrews and Forrest go to jail.